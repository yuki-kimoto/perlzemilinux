<div class="bread">
  <ul itemscope itemtype="http://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop="name">Linux</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>
    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
      <a itemprop="item" href="/blog/20200211081227.html">
        <span itemprop="name">Linuxコマンド</span>
      </a>
      <meta itemprop="position" content="2" />
    </li>
    <li>
      here
    </li>
  </ul>
</div>

<h2>findコマンド - ディレクトリの再帰的な検索</h2>

findコマンドを使うと、ディレクトリの再帰的な検索を行うことができます。

<pre>
find ディレクトリ名
</pre>

「/usr/local/lib」以下を検索するサンプルです。

<pre>
find /usr/local/lib
</pre>

出力結果のサンプルです。

<pre>
/usr/local/lib
/usr/local/lib/liblept.so.3.0.0
/usr/local/lib/liblept.so.3
/usr/local/lib/liblept.so
/usr/local/lib/liblept.la
/usr/local/lib/liblept.a
/usr/local/lib/libtesseract.so.3.0.2
/usr/local/lib/libtesseract.so.3
/usr/local/lib/libtesseract.so
/usr/local/lib/libtesseract.la
/usr/local/lib/libtesseract.a
/usr/local/lib/pkgconfig
/usr/local/lib/pkgconfig/tesseract.pc
</pre>

<h3>findコマンドの内容を絞り込む</h3>

<a href="/blog/20200602093211.html">grep</a>コマンドと組み合わせると、findコマンドの内容を絞り込むことができます。

<pre>
find /usr/local/lib | grep pkg
</pre>

出力結果のサンプルです。

<pre>
/usr/local/lib/pkgconfig
/usr/local/lib/pkgconfig/tesseract.pc
</pre>

<h3>隠しファイルを含まないカレントディレクトリを指定</h3>

現在ディレクトリに<a href="https://git.perlclub.net/">Git</a>が使う「.git」などの隠しディレクトリがあって、これを含みたくない場合はワイルドカード「*」を使うのが便利です。カレントディレクトリの隠しファイル以外が対象になります。

<pre>
find *
</pre>

<h3>ファイルの種類を指定する</h3>

findコマンドでは「-type」オプションでディレクトリや通常ファイルなど、ファイルの種類を指定することができます。

<h4>通常ファイル</h4>

f指定で、ディレクトリやシンボリックリンクを含まない通常ファイルだけを取り出します。

<pre>
find -type f ファイル名
</pre>

<h4>ディレクトリファイル</h4>

d指定で、ディレクトリだけを取り出します。

<pre>
find -type d ファイル名
</pre>

<h4>タイプの一覧</h4>

タイプで指定でいるファイルの種類のの一覧です。

<table>
  <tr><th>b</th><td>ブロック (バッファ) 特別</td></tr>
  <tr><th>c</th><td>文字 (バッファなし) 特別</td></tr>
  <tr><th>d</th><td>ディレクトリ</td></tr>
  <tr><th>p</th><td>名前付きパイプ (FIFO)</td></tr>
  <tr><th>f</th><td>通常ファイル</td></tr>
  <tr><th>l</th><td>シンボリックリンク;-L オプションまたは -follow の場合、これは決して当てはまりません
            シンボリック・リンクが壊れていない限り、オプションは有効です。  もしあなたなら
            -L が有効な場合にシンボリック リンクを検索する
            -xtype.</td></tr>
  <tr><th>s</th><td>ソケット</td></tr>
</table>

<h4>実行ファイルだけに絞り込む</h4>

実行ファイルだけに絞り込むにはf指定に加えて「-executable」を指定します。

<pre>
find -executable -type f ファイル名
</pre>

<h3>findコマンドの動画解説</h3>

<ul>
  <li><a href="https://www.youtube.com/watch?v=zOf_I20JXrc">findコマンドの動画解説 - Perl元気ちゃんねる</a></li>
</ul>
